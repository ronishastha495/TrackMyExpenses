@inherits LayoutComponentBase
@inject NavigationManager NavigationManager


<div style="display: flex; height: 100vh;">
    <!-- Sidebar -->
    @if (!IsExcludedPage())
    {
        <div style="position: sticky; top: 0; width: 250px; height: 100vh; background-color: #2c3e50; color: white; overflow-y: auto; box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);">
            <NavMenu />
        </div>
    }

    <!-- Main Content -->
    <div style="flex: 1; overflow-y: auto; padding: 20px; background-color: #f9f9f9; box-sizing: border-box;">
        <main>
            @Body
        </main>
    </div>
</div>

@code {
    private bool IsExcludedPage()
    {
        // List of pages where the sidebar should not appear
        var excludedPages = new List<string> { "/register", "/" };

        // Get the current URI
        var currentUri = NavigationManager.ToBaseRelativePath(NavigationManager.Uri).ToLower();

        // Check if the current page matches any excluded page
        return excludedPages.Any(page => currentUri.Equals(page));
    }
}
